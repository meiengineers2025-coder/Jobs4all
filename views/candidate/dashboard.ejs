<% layout('layouts/main') %>

<h2 class="text-3xl font-semibold text-gray-800 mb-8">
    Candidate Dashboard
</h2>

<% if (applications.length === 0) { %>
    <p class="text-gray-500">You havenâ€™t applied for any jobs yet.</p>
<% } %>

<div class="grid md:grid-cols-2 gap-6">

    <% applications.forEach(app => { %>
        <div class="bg-white shadow-md rounded-lg p-6 border border-gray-200">

            <h3 class="text-xl font-semibold text-indigo-600">
                <%= app.job_title %>
            </h3>

            <p class="text-gray-600 mt-2">
                Applied On: <%= app.applied_at.substring(0,10) %>
            </p>

            <div class="mt-4">
                <span class="px-4 py-1 rounded-xl font-medium
                    <%= app.match_score >= 70 ? 'bg-green-100 text-green-700' :
                        app.match_score >= 40 ? 'bg-yellow-100 text-yellow-700' :
                        'bg-red-100 text-red-700' %>">
                    <%= app.match_score %>% Match
                </span>
            </div>

        </div>
    <% }) %>
</div>